<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Catalogue Solustoc ‚Äì Bijoux √† la pi√®ce pour revendeurs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    body { font-family: Arial, sans-serif; margin: 0; background: #f5f5f5; color: #222; }
    header { background: #111; color: #fff; padding: 18px 10px; text-align: center; }
    header h1 { margin: 0; font-size: 22px; }
    header p { margin: 4px 0 0; font-size: 14px; color: #ddd; }

    .wrapper { width: 94%; max-width: 1100px; margin: 18px auto 40px; }

    .hero { background: #ffffff; border-radius: 12px; padding: 18px 16px; box-shadow: 0 0 10px rgba(0,0,0,0.06); margin-bottom: 18px; text-align: center; }
    .hero h2 { margin-top: 0; font-size: 20px; }
    .hero p { margin: 6px 0; font-size: 14px; }

    .badge-row { margin-top: 10px; display: flex; flex-wrap: wrap; justify-content: center; gap: 8px; font-size: 13px; }
    .badge { background: #f0e6d5; border-radius: 999px; padding: 4px 10px; display: inline-flex; align-items: center; }

    .section-title { margin: 24px 0 10px; font-size: 18px; font-weight: bold; }
    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 14px; }

    .card { background: #ffffff; border-radius: 10px; box-shadow: 0 0 8px rgba(0,0,0,0.05); padding: 10px 10px 12px; display: flex; flex-direction: column; height: 100%; }

    /* images carr√©es */
    .card img { 
      width: 100%; 
      aspect-ratio: 1 / 1; 
      object-fit: cover; 
      border-radius: 8px; 
      margin-bottom: 8px; 
      background: #ddd; 
      cursor: pointer; 
    }

    .card h3 { font-size: 15px; margin: 4px 0 6px; min-height: 40px; }

    .price-line { font-size: 14px; margin: 2px 0; }
    .price-solustoc { font-weight: bold; color: #b32121; }
    .price-public { font-size: 13px; color: #444; }
    .stock { font-size: 13px; color: #555; margin-top: 2px; }

    .btn-small { margin-top: 8px; padding: 8px 10px; font-size: 14px; border-radius: 8px; border: none; cursor: pointer; font-weight: bold; background: #25D366; color: #fff; width: 100%; }
    .btn-small:hover { background: #1ebe5c; }

    /* Quantit√© */
    .qty-row { display:flex; justify-content:center; align-items:center; gap:8px; margin-top:6px; }
    .qty-minus, .qty-plus {
      width: 30px;
      height: 30px;
      border-radius: 6px;
      font-size: 18px;
      font-weight: bold;
      border: none;
      cursor: pointer;
      background: #e6e6e6;
    }
    .qty-minus:hover, .qty-plus:hover { background: #d3d3d3; }
    .qty-value { font-size: 16px; font-weight: bold; }

    /* Panier */
    .cart-block {
      background: #ffffff;
      border-radius: 12px;
      padding: 18px 14px 16px;
      box-shadow: 0 0 10px rgba(0,0,0,0.06);
      margin-top: 26px;
    }
    .cart-block h2 { margin-top:0; font-size:18px; text-align:center; }
    .cart-info { font-size:13px; margin-bottom:8px; text-align:center; color:#444; }

    table.cart-table { width: 100%; border-collapse: collapse; font-size: 13px; margin-top: 8px; }
    table.cart-table th, table.cart-table td {
      padding: 4px 6px;
      border-bottom: 1px solid #eee;
      text-align: left;
    }
    .cart-total { margin-top: 10px; font-weight: bold; text-align: right; font-size: 14px; }

    .cart-actions { margin-top: 14px; text-align: center; display:flex; flex-direction:column; gap:8px; }
    .btn-main { padding: 11px 14px; border-radius: 999px; border: none; font-size: 15px; font-weight: bold; cursor: pointer; color: #fff; background: #25D366; }
    .btn-main[disabled] { opacity: 0.5; cursor: not-allowed; }
    .btn-secondary { padding: 8px 12px; border-radius: 999px; border: none; font-size: 13px; cursor: pointer; background: #f0f0f0; color: #333; }

    footer { text-align: center; font-size: 12px; color: #777; padding: 24px 10px 28px; }

    .lightbox { position: fixed; inset: 0; background: rgba(0,0,0,0.9); display: none; justify-content: center; align-items: center; z-index: 9999; }
    .lightbox img { max-width: 90%; max-height: 90%; border-radius: 8px; }
    .lightbox-close { position: fixed; top: 14px; right: 20px; font-size: 26px; color: #fff; cursor: pointer; font-weight: bold; }

    @media (max-width: 600px) { .card img { aspect-ratio: 1 / 1; } }
  </style>
</head>

<body>
<header>
  <h1>Solustoc ‚Äì Bijoux √† la pi√®ce pour revendeurs</h1>
  <p>Composez votre propre s√©lection de bijoux en acier inoxydable dor√© √† l‚Äôor fin</p>
</header>

<div class="wrapper">

  <section class="hero">
    <h2>Choisissez vos bijoux √† l‚Äôunit√©</h2>
    <p>S√©lectionnez les r√©f√©rences, ajoutez-les au panier puis envoyez le r√©capitulatif via WhatsApp.</p>
    <p><strong>Livraison gratuite d√®s 200 ‚Ç¨ TTC.</strong></p>
    <div class="badge-row">
      <span class="badge">üíé Acier inoxydable dor√© √† l‚Äôor fin</span>
      <span class="badge">üì¶ Stock r√©el contr√¥l√©</span>
      <span class="badge">üöö Livraison rapide en France</span>
      <span class="badge">üá´üá∑ Soci√©t√© fran√ßaise ‚Äì facture fournie</span>
    </div>
  </section>

  <h2 class="section-title">Bijoux disponibles √† la pi√®ce</h2>
  <section id="products" class="grid"></section>

  <section class="cart-block" id="cart-block">
    <h2>Votre s√©lection de bijoux</h2>
    <div class="cart-info">
      Ajoutez les bijoux puis envoyez la commande via WhatsApp.
      Livraison offerte d√®s 200 ‚Ç¨ TTC.
    </div>
    <div id="cart-content">
      <p style="text-align:center; font-size:13px; color:#555;">Aucun bijou dans votre s√©lection pour le moment.</p>
    </div>
    <div class="cart-actions">
      <button id="btn-whatsapp" class="btn-main" disabled>üì≤ Envoyer la commande via WhatsApp</button>
      <button id="btn-clear" class="btn-secondary">üóëÔ∏è Vider la s√©lection</button>
    </div>
  </section>

</div>

<footer>Solustoc ‚Ä¢ D√©stockage pour les pros ‚Ä¢ Bijoux en acier inoxydable dor√© √† l‚Äôor fin</footer>

<div class="lightbox" id="lightbox">
  <span class="lightbox-close" id="lightbox-close">√ó</span>
  <img id="lightbox-img" src="" alt="">
</div>

<script>
const PHOTO_BASE = "../photo/";

/* ====== CATALOGUE COMPLET (fichier Excel) ====== */
const produits = [
  { nom: "M√©daille Symbole Dor√© Plume", stock: 52, prixPublic: 12.00, prixSolustoc: 1.80, image: "medaille-symbole-dore-plume.webp" },
  { nom: "M√©daille Symbole Dor√© Pieds", stock: 79, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-symbole-dore-pieds.webp" },
  { nom: "M√©daille Symbole Dor√© Motlove", stock: 93, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-symbole-dore-motlove.webp" },
  { nom: "M√©daille Symbole Dor√© Merci", stock: 100, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-symbole-dore-merci.webp" },
  { nom: "M√©daille Symbole Dor√© Mains", stock: 24, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-symbole-dore-mains.webp" },
  { nom: "M√©daille Symbole Dor√© Lucky", stock: 49, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-symbole-dore-lucky.webp" },
  { nom: "M√©daille Symbole Dor√© Loveyou", stock: 61, prixPublic: 12.00, prixSolustoc: 1.80, image: "medaille-symbole-dore-loveyou.webp" },
  { nom: "M√©daille Symbole Dor√© Je T Aime", stock: 79, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-symbole-dore-je-t-aime.webp" },
  { nom: "M√©daille Symbole Dor√© Eye", stock: 25, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-symbole-dore-eye.webp" },
  { nom: "M√©daille Symbole Dor√© Dune", stock: 23, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-symbole-dore-dune.webp" },
  { nom: "M√©daille Symbole Dor√© Cactus", stock: 10, prixPublic: 12.00, prixSolustoc: 1.80, image: "medaille-symbole-dore-cactus.webp" },
  { nom: "M√©daille Symbole Dor√© Bebe", stock: 38, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-symbole-dore-bebe.webp" },
  { nom: "M√©daille Symbole Dor√© Arccachon", stock: 33, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-symbole-dore-arccachon.webp" },
  { nom: "M√©daille Symbole Dor√© Ange ‚Äì Protection & √âl√©gance", stock: 104, prixPublic: 12.00, prixSolustoc: 1.80, image: "medaille-symbole-dore-ange-protection-elegance.webp" },
  { nom: "M√©daille Symbole Dor√© Anchor", stock: 4, prixPublic: 12.00, prixSolustoc: 1.80, image: "medaille-symbole-dore-anchor.webp" },
  { nom: "M√©daille Symbole Dor√© Amour", stock: 51, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-symbole-dore-amour.webp" },
  { nom: "M√©daille Symbole Dor√© Alveole 15", stock: 80, prixPublic: 12.00, prixSolustoc: 1.80, image: "medaille-symbole-dore-alveole-15.webp" },
  { nom: "M√©daille Symbole Dor√© Alveole 10", stock: 41, prixPublic: 12.00, prixSolustoc: 1.80, image: "medaille-symbole-dore-alveole-10.webp" },
  { nom: "M√©daille Pr√©cieuse Dor√© Rose", stock: 23, prixPublic: 12.00, prixSolustoc: 1.80, image: "medaille-precieuse-dore-rose.webp" },
  { nom: "M√©daille Pr√©cieuse Dor√© Duo Coccinelle", stock: 20, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-precieuse-dore-duo-coccinelle.webp" },
  { nom: "M√©daille Pr√©cieuse Dor√© Cl√© ‚Äì Symbole de R√©ussite", stock: 17, prixPublic: 19.00, prixSolustoc: 2.85, image: "medaille-precieuse-dore-cle-symbole-de-reussite.webp" },
  { nom: "M√©daille Pompon Dor√© Safran ‚Äì Charme & Fantaisie", stock: 39, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-pompon-dore-safran-charme-fantaisie.webp" },
  { nom: "M√©daille Pompon Dor√© Perfect Pink ‚Äì Charme & Fantaisie", stock: 11, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-pompon-dore-perfect-pink-charme-fantaisie.webp" },
  { nom: "M√©daille Pompon Dor√© Fluo Pink ‚Äì Charme & Fantaisie", stock: 33, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-pompon-dore-fluo-pink-charme-fantaisie.webp" },
  { nom: "M√©daille Pompon Dor√© Corail ‚Äì Charme & Fantaisie", stock: 40, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-pompon-dore-corail-charme-fantaisie.webp" },
  { nom: "M√©daille Pompon Dor√© Bleu Canard ‚Äì Charme & Fantaisie", stock: 45, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-pompon-dore-bleu-canard-charme-fantaisie.webp" },
  { nom: "M√©daille Pampille Dor√© Papillon", stock: 15, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-pampille-dore-papillon.webp" },
  { nom: "M√©daille Pampille Dor√© Je t'aime Maman ‚Äì Cadeau Parfait", stock: 145, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-pampille-dore-je-taime-maman-cadeau-parfait.webp" },
  { nom: "M√©daille Pampille Dor√© Crown", stock: 25, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-pampille-dore-crown.webp" },
  { nom: "M√©daille Pampille Dor√© Colombe ‚Äì Paix & S√©r√©nit√©", stock: 61, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-pampille-dore-colombe-paix-serenite.webp" },
  { nom: "M√©daille Pampille Dor√© Angel ‚Äì Protection & √âl√©gance", stock: 72, prixPublic: 12.00, prixSolustoc: 1.80, image: "medaille-pampille-dore-angel-protection-elegance.webp" },
  { nom: "M√©daille Initiale Dor√© Z", stock: 59, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-z.webp" },
  { nom: "M√©daille Initiale Dor√© Y", stock: 47, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-y.webp" },
  { nom: "M√©daille Initiale Dor√© X", stock: 67, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-x.webp" },
  { nom: "M√©daille Initiale Dor√© W", stock: 28, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-w.webp" },
  { nom: "M√©daille Initiale Dor√© V", stock: 54, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-v.webp" },
  { nom: "M√©daille Initiale Dor√© U", stock: 68, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-u.webp" },
  { nom: "M√©daille Initiale Dor√© T", stock: 102, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-t.webp" },
  { nom: "M√©daille Initiale Dor√© S", stock: 77, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-s.webp" },
  { nom: "M√©daille Initiale Dor√© R", stock: 62, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-r.webp" },
  { nom: "M√©daille Initiale Dor√© Q", stock: 80, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-q.webp" },
  { nom: "M√©daille Initiale Dor√© P", stock: 82, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-p.webp" },
  { nom: "M√©daille Initiale Dor√© O", stock: 65, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-o.webp" },
  { nom: "M√©daille Initiale Dor√© N", stock: 98, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-n.webp" },
  { nom: "M√©daille Initiale Dor√© K", stock: 63, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-k.webp" },
  { nom: "M√©daille Initiale Dor√© J", stock: 76, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-j.webp" },
  { nom: "M√©daille Initiale Dor√© I", stock: 70, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-i.webp" },
  { nom: "M√©daille Initiale Dor√© H", stock: 33, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-h.webp" },
  { nom: "M√©daille Initiale Dor√© G", stock: 57, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-g.webp" },
  { nom: "M√©daille Initiale Dor√© F", stock: 31, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-f.webp" },
  { nom: "M√©daille Initiale Dor√© E", stock: 33, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-e.webp" },
  { nom: "M√©daille Initiale Dor√© D", stock: 41, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-d.webp" },
  { nom: "M√©daille Initiale Dor√© C", stock: 41, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-c.webp" },
  { nom: "M√©daille Initiale Dor√© B", stock: 60, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-b.webp" },
  { nom: "M√©daille Bijou Dor√© Petit Ange ‚Äì Protection & √âl√©gance", stock: 87, prixPublic: 12.00, prixSolustoc: 1.80, image: "medaille-bijou-dore-petit-ange-protection-elegance.webp" },
  { nom: "M√©daille Bijou Dor√© Love", stock: 78, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-bijou-dore-love.webp" },
  { nom: "M√©daille Bijou Dor√© Dreams ‚Äì R√™ves & Aspirations", stock: 50, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-bijou-dore-dreams-reves-aspirations.webp" },
  { nom: "M√©daille Bijou Dor√© Chance", stock: 38, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-bijou-dore-chance.webp" },
  { nom: "M√©daille Bijou Dor√© Astre", stock: 24, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-bijou-dore-astre.webp" },
  { nom: "Cordon Dor√© Safran", stock: 231, prixPublic: 9.00, prixSolustoc: 1.35, image: "cordon-dore-safran.webp" },
  { nom: "Cordon Dor√© Lurex Jaune", stock: 31, prixPublic: 9.00, prixSolustoc: 1.35, image: "cordon-dore-lurex-jaune.webp" },
  { nom: "Cordon Dor√© Fluo Yellow", stock: 38, prixPublic: 9.00, prixSolustoc: 1.35, image: "cordon-dore-fluo-yellow.webp" },
  { nom: "Cordon Dor√© Flame Orange", stock: 26, prixPublic: 9.00, prixSolustoc: 1.35, image: "cordon-dore-flame-orange.webp" },
  { nom: "Cordon Dor√© Bouton D Or", stock: 17, prixPublic: 9.00, prixSolustoc: 1.35, image: "cordon-dore-bouton-d-or.webp" },
  { nom: "Cordon Dor√© Bleu Jean", stock: 37, prixPublic: 9.00, prixSolustoc: 1.35, image: "cordon-dore-bleu-jean.webp" },
  { nom: "Collier Grande Maille Dor√© ‚Äì Style Intemporel", stock: 5, prixPublic: 19.00, prixSolustoc: 2.85, image: "collier-grande-maille-dore-style-intemporel.webp" },
  { nom: "Collier Cha√Æne Perles Color√©es Dor√© Safran ‚Äì √âl√©gance Color√©e", stock: 10, prixPublic: 19.00, prixSolustoc: 2.85, image: "collier-chaine-perles-colorees-dore-safran-elegance-coloree.webp" },
  { nom: "Collier Cha√Æne Dor√© ‚Äì Minimaliste & Chic", stock: 100, prixPublic: 15.00, prixSolustoc: 2.25, image: "collier-chaine-dore-minimaliste-chic.webp" },
  { nom: "Bracelet Cha√Æne Bijou De Mimi Dor√© Poinsettia ‚Äì Porte-bonheur", stock: 18, prixPublic: 12.00, prixSolustoc: 1.80, image: "bracelet-chaine-bijou-de-mimi-dore-poinsettia-porte-bonheur.webp" },
  { nom: "Bracelet Cha√Æne Bijou De Mimi Dor√© Fluo Pink ‚Äì Porte-bonheur", stock: 2, prixPublic: 15.00, prixSolustoc: 2.25, image: "bracelet-chaine-bijou-de-mimi-dore-fluo-pink-porte-bonheur.webp" },
  { nom: "Bracelet Cha√Æne Bijou De Mimi Dor√© Black ‚Äì Porte-bonheur", stock: 13, prixPublic: 12.00, prixSolustoc: 1.80, image: "bracelet-chaine-bijou-de-mimi-dore-black-porte-bonheur.webp" },
  { nom: "Bracelet Cha√Æne Bijou De Mimi Dor√© ‚Äì Porte-bonheur", stock: 51, prixPublic: 12.00, prixSolustoc: 1.80, image: "bracelet-chaine-bijou-de-mimi-dore-porte-bonheur.webp" },
  { nom: "Boucles D'oreilles Studs Dor√©", stock: 21, prixPublic: 9.00, prixSolustoc: 1.35, image: "boucles-d-oreilles-studs-dore.webp" },
  { nom: "Boucles D'oreilles Cr√©ole Dor√© Bleu Canard", stock: 5, prixPublic: 15.00, prixSolustoc: 2.25, image: "boucles-d-oreilles-creole-dore-bleu-canard.webp" },
  { nom: "Boucles D'oreilles Cr√©ole 40mm Dor√© Safran", stock: 81, prixPublic: 12.00, prixSolustoc: 1.80, image: "boucles-d-oreilles-creole-40mm-dore-safran.webp" },
  { nom: "Boucles D'oreilles Cr√©ole 40mm Dor√©", stock: 17, prixPublic: 9.00, prixSolustoc: 1.35, image: "boucles-d-oreilles-creole-40mm-dore.webp" },
  { nom: "Boucles D'oreilles Cr√©ole 20 Mm Dor√© Safran", stock: 36, prixPublic: 9.00, prixSolustoc: 1.35, image: "boucles-d-oreilles-creole-20mm-dore-safran.webp" },
  { nom: "Bague Anneau Perles M√©tals Dor√©", stock: 11, prixPublic: 12.00, prixSolustoc: 1.80, image: "bague-anneau-perles-metals-dore.webp" },
  { nom: "Bague Anneau Perles Color√©es Dor√© Safran", stock: 38, prixPublic: 12.00, prixSolustoc: 1.80, image: "bague-anneau-perles-colorees-dore-safran.webp" },
  { nom: "Bague Anneau Perles Color√©es Dor√© Bleu Canard", stock: 25, prixPublic: 12.00, prixSolustoc: 1.80, image: "bague-anneau-perles-colorees-dore-bleu-canard.webp" },
  { nom: "Bague Anneau Large Lbdm Dor√©", stock: 5, prixPublic: 15.00, prixSolustoc: 2.25, image: "bague-anneau-large-lbdm-dore.webp" }
];

/* ====== LOGIQUE PANIER & AFFICHAGE ====== */

let cart = [];

/* changer quantit√© sur la carte produit */
function changeQty(i, delta) {
  const el = document.getElementById("qty-" + i);
  let value = parseInt(el.textContent);
  value = value + delta;
  if (value < 1) value = 1;
  el.textContent = value;
}

/* ajouter au panier */
function addToCart(index, qty = 1) {
  qty = parseInt(qty);
  if (qty < 1) return;
  const p = produits[index];
  const exist = cart.find(i => i.nom === p.nom);
  if (exist) exist.qty += qty;
  else cart.push({ nom: p.nom, prix: p.prixSolustoc, prixPublic: p.prixPublic, qty });
  renderCart();
}

/* vider panier */
document.getElementById("btn-clear").onclick = () => { cart = []; renderCart(); };

/* envoyer sur WhatsApp */
document.getElementById("btn-whatsapp").onclick = () => {
  if (!cart.length) return;
  let msg = "üõçÔ∏è *Commande de bijoux Solustoc*\\n\\n";
  cart.forEach(i => {
    msg += `‚Ä¢ ${i.nom} √ó ${i.qty} ‚Äî ${i.prix.toFixed(2)}‚Ç¨ TTC (PV conseill√© ${i.prixPublic.toFixed(2)}‚Ç¨)\\n`;
  });
  const total = cart.reduce((s, i) => s + i.prix * i.qty, 0);
  msg += `\\nüì¶ Total Solustoc : *${total.toFixed(2)} ‚Ç¨ TTC*`;
  window.open("https://wa.me/33756923323/?text=" + encodeURIComponent(msg), "_blank");
};

/* affichage catalogue */
function renderProduits() {
  const container = document.getElementById("products");
  container.innerHTML = produits.map((p, i) => {
    const coef = p.prixPublic && p.prixSolustoc ? (p.prixPublic / p.prixSolustoc) : null;
    const coefTxt = coef ? `Marge revendeur ‚âà x${coef.toFixed(1)}` : "";
    return `
    <div class="card">
      <img src="${PHOTO_BASE + p.image}" alt="${p.nom}" onclick="openLightbox('${PHOTO_BASE + p.image}')">
      <h3>${p.nom}</h3>
      <p class="price-line">
        <span class="price-solustoc">Prix Solustoc : ${p.prixSolustoc.toFixed(2)} ‚Ç¨ TTC</span><br>
        <span class="price-public">Prix public constat√© : ${p.prixPublic.toFixed(2)} ‚Ç¨ TTC</span><br>
        <span class="price-public">${coefTxt}</span>
      </p>
      <p class="stock">Stock disponible : ${p.stock}</p>
      <div class="qty-row">
        <button class="qty-minus" onclick="changeQty(${i}, -1)">‚àí</button>
        <span id="qty-${i}" class="qty-value">1</span>
        <button class="qty-plus" onclick="changeQty(${i}, 1)">+</button>
      </div>
      <button class="btn-small" onclick="addToCart(${i}, document.getElementById('qty-${i}').textContent)">Ajouter</button>
    </div>`;
  }).join("");
}

/* affichage panier */
function renderCart() {
  const cartBlock = document.getElementById("cart-content");
  if (!cart.length) {
    cartBlock.innerHTML = `<p style="text-align:center; font-size:13px; color:#555;">Aucun bijou dans votre s√©lection pour le moment.</p>`;
    document.getElementById("btn-whatsapp").disabled = true;
    return;
  }
  const total = cart.reduce((s, i) => s + i.prix * i.qty, 0);
  cartBlock.innerHTML = `
    <table class="cart-table">
      <tr><th>Article</th><th>Qt√©</th><th>PU Solustoc</th><th>Total</th></tr>
      ${
        cart.map(i =>
          `<tr>
             <td>${i.nom}</td>
             <td>${i.qty}</td>
             <td>${i.prix.toFixed(2)} ‚Ç¨</td>
             <td>${(i.qty * i.prix).toFixed(2)} ‚Ç¨</td>
           </tr>`
        ).join("")
      }
    </table>
    <p class="cart-total">Total Solustoc : ${total.toFixed(2)} ‚Ç¨ TTC</p>
  `;
  document.getElementById("btn-whatsapp").disabled = false;
}

/* lightbox */
function openLightbox(src) {
  document.getElementById("lightbox-img").src = src;
  document.getElementById("lightbox").style.display = "flex";
}
document.getElementById("lightbox-close").onclick = () => {
  document.getElementById("lightbox").style.display = "none";
};

/* GO */
renderProduits();
renderCart();
</script>

</body>
</html>
