<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Catalogue Solustoc ‚Äì Bijoux √† la pi√®ce pour revendeurs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    body { font-family: Arial, sans-serif; margin: 0; background: #f5f5f5; color: #222; }
    header { background: #111; color: #fff; padding: 18px 10px; text-align: center; }
    header h1 { margin: 0; font-size: 22px; }
    header p { margin: 4px 0 0; font-size: 14px; color: #ddd; }

    .wrapper { width: 94%; max-width: 1100px; margin: 18px auto 40px; }

    .hero { background: #ffffff; border-radius: 12px; padding: 18px 16px; box-shadow: 0 0 10px rgba(0,0,0,0.06); margin-bottom: 18px; text-align: center; }
    .hero h2 { margin-top: 0; font-size: 20px; }
    .hero p { margin: 6px 0; font-size: 14px; }

    .badge-row { margin-top: 10px; display: flex; flex-wrap: wrap; justify-content: center; gap: 8px; font-size: 13px; }
    .badge { background: #f0e6d5; border-radius: 999px; padding: 4px 10px; display: inline-flex; align-items: center; }

    .section-title { margin: 24px 0 10px; font-size: 18px; font-weight: bold; }

    /* BARRE DE FILTRE */
    .filter-bar {
      margin: 6px 0 14px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
      font-size: 13px;
    }
    .filter-bar label {
      font-weight: bold;
      margin-right: 4px;
    }
    .filter-bar select {
      padding: 6px 8px;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 13px;
    }

    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 14px; }

    .card { background: #ffffff; border-radius: 10px; box-shadow: 0 0 8px rgba(0,0,0,0.05); padding: 10px 10px 12px; display: flex; flex-direction: column; height: 100%; }

    /* images carr√©es */
    .card img { 
      width: 100%; 
      aspect-ratio: 1 / 1; 
      object-fit: cover; 
      border-radius: 8px; 
      margin-bottom: 8px; 
      background: #ddd; 
      cursor: pointer; 
    }

    .card h3 { font-size: 15px; margin: 4px 0 4px; min-height: 40px; }

    .cat-label {
      font-size: 12px;
      color: #666;
      margin-bottom: 3px;
    }

    .price-line { font-size: 14px; margin: 2px 0; }
    .price-solustoc { font-weight: bold; color: #b32121; }
    .price-public { font-size: 13px; color: #444; display:block; }
    .stock { font-size: 13px; color: #555; margin-top: 2px; }

    .btn-small { margin-top: 8px; padding: 8px 10px; font-size: 14px; border-radius: 8px; border: none; cursor: pointer; font-weight: bold; background: #25D366; color: #fff; width: 100%; }
    .btn-small:hover { background: #1ebe5c; }

    /* Quantit√© */
    .qty-row { display:flex; justify-content:center; align-items:center; gap:8px; margin-top:6px; }
    .qty-minus, .qty-plus {
      width: 30px;
      height: 30px;
      border-radius: 6px;
      font-size: 18px;
      font-weight: bold;
      border: none;
      cursor: pointer;
      background: #e6e6e6;
    }
    .qty-minus:hover, .qty-plus:hover { background: #d3d3d3; }
    .qty-value { font-size: 16px; font-weight: bold; }

    /* Panier */
    .cart-block {
      background: #ffffff;
      border-radius: 12px;
      padding: 18px 14px 16px;
      box-shadow: 0 0 10px rgba(0,0,0,0.06);
      margin-top: 26px;
    }
    .cart-block h2 { margin-top:0; font-size:18px; text-align:center; }
    .cart-info { font-size:13px; margin-bottom:8px; text-align:center; color:#444; }

    table.cart-table { width: 100%; border-collapse: collapse; font-size: 13px; margin-top: 8px; }
    table.cart-table th, table.cart-table td {
      padding: 4px 6px;
      border-bottom: 1px solid #eee;
      text-align: left;
    }
    .cart-total { margin-top: 10px; font-weight: bold; text-align: right; font-size: 14px; }

    .cart-actions { margin-top: 14px; text-align: center; display:flex; flex-direction:column; gap:8px; }
    .btn-main { padding: 11px 14px; border-radius: 999px; border: none; font-size: 15px; font-weight: bold; cursor: pointer; color: #fff; background: #25D366; }
    .btn-main[disabled] { opacity: 0.5; cursor: not-allowed; }
    .btn-secondary { padding: 8px 12px; border-radius: 999px; border: none; font-size: 13px; cursor: pointer; background: #f0f0f0; color: #333; }

    footer { text-align: center; font-size: 12px; color: #777; padding: 24px 10px 28px; }

    .lightbox { position: fixed; inset: 0; background: rgba(0,0,0,0.9); display: none; justify-content: center; align-items: center; z-index: 9999; }
    .lightbox img { max-width: 90%; max-height: 90%; border-radius: 8px; }
    .lightbox-close { position: fixed; top: 14px; right: 20px; font-size: 26px; color: #fff; cursor: pointer; font-weight: bold; }

    @media (max-width: 600px) { 
      .card img { aspect-ratio: 1 / 1; } 
      .filter-bar { flex-direction: column; align-items: stretch; }
      .filter-bar label { margin-bottom: 2px; }
    }
  </style>
</head>

<body>
<header>
  <h1>Solustoc ‚Äì Bijoux √† la pi√®ce pour revendeurs</h1>
  <p>Composez votre propre s√©lection de bijoux en acier inoxydable dor√© √† l‚Äôor fin</p>
</header>

<div class="wrapper">

  <section class="hero">
    <h2>Choisissez vos bijoux √† l‚Äôunit√©</h2>
    <p>S√©lectionnez les r√©f√©rences, ajoutez-les au panier puis envoyez le r√©capitulatif via WhatsApp.</p>
    <p><strong>Livraison gratuite d√®s 200 ‚Ç¨ TTC.</strong></p>
    <div class="badge-row">
      <span class="badge">üíé Acier inoxydable dor√© √† l‚Äôor fin</span>
      <span class="badge">üì¶ Stock r√©el contr√¥l√©</span>
      <span class="badge">üöö Livraison rapide en France</span>
      <span class="badge">üá´üá∑ Soci√©t√© fran√ßaise ‚Äì facture fournie</span>
    </div>
  </section>

  <h2 class="section-title">Bijoux disponibles √† la pi√®ce</h2>

  <!-- BARRE DE FILTRE -->
  <div class="filter-bar">
    <label for="filter-category">Filtrer :</label>
    <select id="filter-category">
      <option value="">Toutes les cat√©gories</option>
      <option value="Bague anneau">Bagues anneau</option>
      <option value="Boucles d'oreilles & Cr√©oles">Boucles d'oreilles & Cr√©oles</option>
      <option value="Bracelet cha√Æne">Bracelets cha√Æne</option>
      <option value="Collier cha√Æne">Colliers cha√Æne</option>
      <option value="Collier grande">Collier grande maille</option>
      <option value="Cordon dor√©">Cordons dor√©s</option>
      <option value="M√©daille initiale">M√©dailles initiales</option>
      <option value="M√©daille pampille">M√©dailles pampille</option>
      <option value="M√©daille pompon">M√©dailles pompon</option>
      <option value="M√©daille pr√©cieuse">M√©dailles pr√©cieuses</option>
      <option value="M√©daille symbole">M√©dailles symbole / bijou</option>
    </select>
  </div>

  <section id="products" class="grid"></section>

  <section class="cart-block" id="cart-block">
    <h2>Votre s√©lection de bijoux</h2>
    <div class="cart-info">
      Ajoutez les bijoux puis envoyez la commande via WhatsApp.
      Livraison offerte d√®s 200 ‚Ç¨ TTC.
    </div>
    <div id="cart-content">
      <p style="text-align:center; font-size:13px; color:#555;">Aucun bijou dans votre s√©lection pour le moment.</p>
    </div>
    <div class="cart-actions">
      <button id="btn-whatsapp" class="btn-main" disabled>üì≤ Envoyer la commande via WhatsApp</button>
      <button id="btn-clear" class="btn-secondary">üóëÔ∏è Vider la s√©lection</button>
    </div>
  </section>

</div>

<footer>Solustoc ‚Ä¢ D√©stockage pour les pros ‚Ä¢ Bijoux en acier inoxydable dor√© √† l‚Äôor fin</footer>

<div class="lightbox" id="lightbox">
  <span class="lightbox-close" id="lightbox-close">√ó</span>
  <img id="lightbox-img" src="" alt="">
</div>

<script>
const PHOTO_BASE = "../photo/";

/* ====== CATALOGUE COMPLET AVEC CAT√âGORIE ======
   id = identifiant stable pour g√©rer le panier m√™me avec les filtres
*/
const produits = [
  // Bagues anneau
  { id: 1,  nom: "Bague Anneau Perles M√©tals Dor√©", stock: 11, prixPublic: 12.00, prixSolustoc: 1.80, image: "bague-anneau-perles-metals-dore.webp", categorie: "Bague anneau" },
  { id: 2,  nom: "Bague Anneau Perles Color√©es Dor√© Safran", stock: 38, prixPublic: 12.00, prixSolustoc: 1.80, image: "bague-anneau-perles-colorees-dore-safran.webp", categorie: "Bague anneau" },
  { id: 3,  nom: "Bague Anneau Perles Color√©es Dor√© Bleu Canard", stock: 25, prixPublic: 12.00, prixSolustoc: 1.80, image: "bague-anneau-perles-colorees-dore-bleu-canard.webp", categorie: "Bague anneau" },
  { id: 4,  nom: "Bague Anneau Large Lbdm Dor√©", stock: 5, prixPublic: 15.00, prixSolustoc: 2.25, image: "bague-anneau-large-lbdm-dore.webp", categorie: "Bague anneau" },

  // Boucles d'oreilles & Cr√©oles
  { id: 5,  nom: "Boucles D'oreilles Studs Dor√©", stock: 21, prixPublic: 9.00, prixSolustoc: 1.35, image: "boucles-d-oreilles-studs-dore.webp", categorie: "Boucles d'oreilles & Cr√©oles" },
  { id: 6,  nom: "Boucles D'oreilles Cr√©ole Dor√© Bleu Canard", stock: 5, prixPublic: 15.00, prixSolustoc: 2.25, image: "boucles-d-oreilles-creole-dore-bleu-canard.webp", categorie: "Boucles d'oreilles & Cr√©oles" },
  { id: 7,  nom: "Boucles D'oreilles Cr√©ole 40mm Dor√© Safran", stock: 81, prixPublic: 12.00, prixSolustoc: 1.80, image: "boucles-d-oreilles-creole-40mm-dore-safran.webp", categorie: "Boucles d'oreilles & Cr√©oles" },
  { id: 8,  nom: "Boucles D'oreilles Cr√©ole 40mm Dor√©", stock: 17, prixPublic: 9.00, prixSolustoc: 1.35, image: "boucles-d-oreilles-creole-40mm-dore.webp", categorie: "Boucles d'oreilles & Cr√©oles" },
  { id: 9,  nom: "Boucles D'oreilles Cr√©ole 20 Mm Dor√© Safran", stock: 36, prixPublic: 9.00, prixSolustoc: 1.35, image: "boucles-d-oreilles-creole-20-mm-dore-safran.webp", categorie: "Boucles d'oreilles & Cr√©oles" },

  // Bracelets cha√Æne
  { id: 10, nom: "Bracelet Cha√Æne Bijou De Mimi Dor√© Poinsettia ‚Äì Porte-bonheur", stock: 18, prixPublic: 12.00, prixSolustoc: 1.80, image: "bracelet-chaine-bijou-de-mimi-dore-poinsettia-porte-bonheur.webp", categorie: "Bracelet cha√Æne" },
  { id: 11, nom: "Bracelet Cha√Æne Bijou De Mimi Dor√© Fluo Pink ‚Äì Porte-bonheur", stock: 2, prixPublic: 15.00, prixSolustoc: 2.25, image: "bracelet-chaine-bijou-de-mimi-dore-fluo-pink-porte-bonheur.webp", categorie: "Bracelet cha√Æne" },
  { id: 12, nom: "Bracelet Cha√Æne Bijou De Mimi Dor√© Black ‚Äì Porte-bonheur", stock: 13, prixPublic: 12.00, prixSolustoc: 1.80, image: "bracelet-chaine-bijou-de-mimi-dore-black-porte-bonheur.webp", categorie: "Bracelet cha√Æne" },
  { id: 13, nom: "Bracelet Cha√Æne Bijou De Mimi Dor√© ‚Äì Porte-bonheur", stock: 51, prixPublic: 12.00, prixSolustoc: 1.80, image: "bracelet-chaine-bijou-de-mimi-dore-porte-bonheur.webp", categorie: "Bracelet cha√Æne" },

  // Colliers cha√Æne
  { id: 14, nom: "Collier Cha√Æne Perles Color√©es Dor√© Safran ‚Äì √âl√©gance Color√©e", stock: 10, prixPublic: 19.00, prixSolustoc: 2.85, image: "collier-chaine-perles-colorees-dore-safran-elegance-coloree.webp", categorie: "Collier cha√Æne" },
  { id: 15, nom: "Collier Cha√Æne Dor√© ‚Äì Minimaliste & Chic", stock: 100, prixPublic: 15.00, prixSolustoc: 2.25, image: "collier-chaine-dore-minimaliste-chic.webp", categorie: "Collier cha√Æne" },

  // Collier grande
  { id: 16, nom: "Collier Grande Maille Dor√© ‚Äì Style Intemporel", stock: 5, prixPublic: 19.00, prixSolustoc: 2.85, image: "collier-grande-maille-dore-style-intemporel.webp", categorie: "Collier grande" },

  // Cordons dor√©s
  { id: 17, nom: "Cordon Dor√© Safran", stock: 231, prixPublic: 9.00, prixSolustoc: 1.35, image: "cordon-dore-safran.webp", categorie: "Cordon dor√©" },
  { id: 18, nom: "Cordon Dor√© Lurex Jaune", stock: 31, prixPublic: 9.00, prixSolustoc: 1.35, image: "cordon-dore-lurex-jaune.webp", categorie: "Cordon dor√©" },
  { id: 19, nom: "Cordon Dor√© Fluo Yellow", stock: 38, prixPublic: 9.00, prixSolustoc: 1.35, image: "cordon-dore-fluo-yellow.webp", categorie: "Cordon dor√©" },
  { id: 20, nom: "Cordon Dor√© Flame Orange", stock: 26, prixPublic: 9.00, prixSolustoc: 1.35, image: "cordon-dore-flame-orange.webp", categorie: "Cordon dor√©" },
  { id: 21, nom: "Cordon Dor√© Bouton D Or", stock: 17, prixPublic: 9.00, prixSolustoc: 1.35, image: "cordon-dore-bouton-d-or.webp", categorie: "Cordon dor√©" },
  { id: 22, nom: "Cordon Dor√© Bleu Jean", stock: 37, prixPublic: 9.00, prixSolustoc: 1.35, image: "cordon-dore-bleu-jean.webp", categorie: "Cordon dor√©" },

  // M√©dailles initiales
  { id: 23, nom: "M√©daille Initiale Dor√© Z", stock: 59, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-z.webp", categorie: "M√©daille initiale" },
  { id: 24, nom: "M√©daille Initiale Dor√© Y", stock: 47, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-y.webp", categorie: "M√©daille initiale" },
  { id: 25, nom: "M√©daille Initiale Dor√© X", stock: 67, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-x.webp", categorie: "M√©daille initiale" },
  { id: 26, nom: "M√©daille Initiale Dor√© W", stock: 28, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-w.webp", categorie: "M√©daille initiale" },
  { id: 27, nom: "M√©daille Initiale Dor√© V", stock: 54, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-v.webp", categorie: "M√©daille initiale" },
  { id: 28, nom: "M√©daille Initiale Dor√© U", stock: 68, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-u.webp", categorie: "M√©daille initiale" },
  { id: 29, nom: "M√©daille Initiale Dor√© T", stock: 102, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-t.webp", categorie: "M√©daille initiale" },
  { id: 30, nom: "M√©daille Initiale Dor√© S", stock: 77, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-s.webp", categorie: "M√©daille initiale" },
  { id: 31, nom: "M√©daille Initiale Dor√© R", stock: 62, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-r.webp", categorie: "M√©daille initiale" },
  { id: 32, nom: "M√©daille Initiale Dor√© Q", stock: 80, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-q.webp", categorie: "M√©daille initiale" },
  { id: 33, nom: "M√©daille Initiale Dor√© P", stock: 82, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-p.webp", categorie: "M√©daille initiale" },
  { id: 34, nom: "M√©daille Initiale Dor√© O", stock: 65, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-o.webp", categorie: "M√©daille initiale" },
  { id: 35, nom: "M√©daille Initiale Dor√© N", stock: 98, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-n.webp", categorie: "M√©daille initiale" },
  { id: 36, nom: "M√©daille Initiale Dor√© K", stock: 63, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-k.webp", categorie: "M√©daille initiale" },
  { id: 37, nom: "M√©daille Initiale Dor√© J", stock: 76, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-j.webp", categorie: "M√©daille initiale" },
  { id: 38, nom: "M√©daille Initiale Dor√© I", stock: 70, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-i.webp", categorie: "M√©daille initiale" },
  { id: 39, nom: "M√©daille Initiale Dor√© H", stock: 33, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-h.webp", categorie: "M√©daille initiale" },
  { id: 40, nom: "M√©daille Initiale Dor√© G", stock: 57, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-g.webp", categorie: "M√©daille initiale" },
  { id: 41, nom: "M√©daille Initiale Dor√© F", stock: 31, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-f.webp", categorie: "M√©daille initiale" },
  { id: 42, nom: "M√©daille Initiale Dor√© E", stock: 33, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-e.webp", categorie: "M√©daille initiale" },
  { id: 43, nom: "M√©daille Initiale Dor√© D", stock: 41, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-d.webp", categorie: "M√©daille initiale" },
  { id: 44, nom: "M√©daille Initiale Dor√© C", stock: 41, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-c.webp", categorie: "M√©daille initiale" },
  { id: 45, nom: "M√©daille Initiale Dor√© B", stock: 60, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-initiale-dore-b.webp", categorie: "M√©daille initiale" },

  // M√©dailles pampille
  { id: 46, nom: "M√©daille Pampille Dor√© Papillon", stock: 15, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-pampille-dore-papillon.webp", categorie: "M√©daille pampille" },
  { id: 47, nom: "M√©daille Pampille Dor√© Je t'aime Maman ‚Äì Cadeau Parfait", stock: 145, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-pampille-dore-je-t-aime-maman-cadeau-parfait.webp", categorie: "M√©daille pampille" },
  { id: 48, nom: "M√©daille Pampille Dor√© Crown", stock: 25, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-pampille-dore-crown.webp", categorie: "M√©daille pampille" },
  { id: 49, nom: "M√©daille Pampille Dor√© Colombe ‚Äì Paix & S√©r√©nit√©", stock: 61, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-pampille-dore-colombe-paix-serenite.webp", categorie: "M√©daille pampille" },
  { id: 50, nom: "M√©daille Pampille Dor√© Angel ‚Äì Protection & √âl√©gance", stock: 72, prixPublic: 12.00, prixSolustoc: 1.80, image: "medaille-pampille-dore-angel-protection-elegance.webp", categorie: "M√©daille pampille" },

  // M√©dailles pompon
  { id: 51, nom: "M√©daille Pompon Dor√© Safran ‚Äì Charme & Fantaisie", stock: 39, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-pompon-dore-safran-charme-fantaisie.webp", categorie: "M√©daille pompon" },
  { id: 52, nom: "M√©daille Pompon Dor√© Perfect Pink ‚Äì Charme & Fantaisie", stock: 11, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-pompon-dore-perfect-pink-charme-fantaisie.webp", categorie: "M√©daille pompon" },
  { id: 53, nom: "M√©daille Pompon Dor√© Fluo Pink ‚Äì Charme & Fantaisie", stock: 33, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-pompon-dore-fluo-pink-charme-fantaisie.webp", categorie: "M√©daille pompon" },
  { id: 54, nom: "M√©daille Pompon Dor√© Corail ‚Äì Charme & Fantaisie", stock: 40, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-pompon-dore-corail-charme-fantaisie.webp", categorie: "M√©daille pompon" },
  { id: 55, nom: "M√©daille Pompon Dor√© Bleu Canard ‚Äì Charme & Fantaisie", stock: 45, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-pompon-dore-bleu-canard-charme-fantaisie.webp", categorie: "M√©daille pompon" },

  // M√©dailles pr√©cieuses
  { id: 56, nom: "M√©daille Pr√©cieuse Dor√© Rose", stock: 23, prixPublic: 12.00, prixSolustoc: 1.80, image: "medaille-precieuse-dore-rose.webp", categorie: "M√©daille pr√©cieuse" },
  { id: 57, nom: "M√©daille Pr√©cieuse Dor√© Duo Coccinelle", stock: 20, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-precieuse-dore-duo-coccinelle.webp", categorie: "M√©daille pr√©cieuse" },
  { id: 58, nom: "M√©daille Pr√©cieuse Dor√© Cl√© ‚Äì Symbole de R√©ussite", stock: 17, prixPublic: 19.00, prixSolustoc: 2.85, image: "medaille-precieuse-dore-cle-symbole-de-reussite.webp", categorie: "M√©daille pr√©cieuse" },

  // M√©dailles symbole / bijou
  { id: 59, nom: "M√©daille Symbole Dor√© Pieds", stock: 79, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-symbole-dore-pieds.webp", categorie: "M√©daille symbole" },
  { id: 60, nom: "M√©daille Symbole Dor√© Motlove", stock: 93, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-symbole-dore-motlove.webp", categorie: "M√©daille symbole" },
  { id: 61, nom: "M√©daille Symbole Dor√© Merci", stock: 100, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-symbole-dore-merci.webp", categorie: "M√©daille symbole" },
  { id: 62, nom: "M√©daille Symbole Dor√© Mains", stock: 24, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-symbole-dore-mains.webp", categorie: "M√©daille symbole" },
  { id: 63, nom: "M√©daille Symbole Dor√© Lucky", stock: 49, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-symbole-dore-lucky.webp", categorie: "M√©daille symbole" },
  { id: 64, nom: "M√©daille Symbole Dor√© Loveyou", stock: 61, prixPublic: 12.00, prixSolustoc: 1.80, image: "medaille-symbole-dore-loveyou.webp", categorie: "M√©daille symbole" },
  { id: 65, nom: "M√©daille Symbole Dor√© Je T Aime", stock: 79, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-symbole-dore-je-t-aime.webp", categorie: "M√©daille symbole" },
  { id: 66, nom: "M√©daille Symbole Dor√© Eye", stock: 25, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-symbole-dore-eye.webp", categorie: "M√©daille symbole" },
  { id: 67, nom: "M√©daille Symbole Dor√© Dune", stock: 23, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-symbole-dore-dune.webp", categorie: "M√©daille symbole" },
  { id: 68, nom: "M√©daille Symbole Dor√© Cactus", stock: 10, prixPublic: 12.00, prixSolustoc: 1.80, image: "medaille-symbole-dore-cactus.webp", categorie: "M√©daille symbole" },
  { id: 69, nom: "M√©daille Symbole Dor√© Bebe", stock: 38, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-symbole-dore-bebe.webp", categorie: "M√©daille symbole" },
  { id: 70, nom: "M√©daille Symbole Dor√© Arccachon", stock: 33, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-symbole-dore-arccachon.webp", categorie: "M√©daille symbole" },
  { id: 71, nom: "M√©daille Symbole Dor√© Ange ‚Äì Protection & √âl√©gance", stock: 104, prixPublic: 12.00, prixSolustoc: 1.80, image: "medaille-symbole-dore-ange-protection-elegance.webp", categorie: "M√©daille symbole" },
  { id: 72, nom: "M√©daille Symbole Dor√© Anchor", stock: 4, prixPublic: 12.00, prixSolustoc: 1.80, image: "medaille-symbole-dore-anchor.webp", categorie: "M√©daille symbole" },
  { id: 73, nom: "M√©daille Symbole Dor√© Amour", stock: 51, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-symbole-dore-amour.webp", categorie: "M√©daille symbole" },
  { id: 74, nom: "M√©daille Symbole Dor√© Alveole 15", stock: 80, prixPublic: 12.00, prixSolustoc: 1.80, image: "medaille-symbole-dore-alveole-15.webp", categorie: "M√©daille symbole" },
  { id: 75, nom: "M√©daille Symbole Dor√© Alveole 10", stock: 41, prixPublic: 12.00, prixSolustoc: 1.80, image: "medaille-symbole-dore-alveole-10.webp", categorie: "M√©daille symbole" },

  // M√©dailles bijou (rattach√©es √† symbole pour le tri)
  { id: 76, nom: "M√©daille Bijou Dor√© Petit Ange ‚Äì Protection & √âl√©gance", stock: 87, prixPublic: 12.00, prixSolustoc: 1.80, image: "medaille-bijou-dore-petit-ange-protection-elegance.webp", categorie: "M√©daille symbole" },
  { id: 77, nom: "M√©daille Bijou Dor√© Love", stock: 78, prixPublic: 10.00, prixSolustoc: 1.50, image: "medaille-bijou-dore-love.webp", categorie: "M√©daille symbole" },
  { id: 78, nom: "M√©daille Bijou Dor√© Dreams ‚Äì R√™ves & Aspirations", stock: 50, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-bijou-dore-dreams-reves-aspirations.webp", categorie: "M√©daille symbole" },
  { id: 79, nom: "M√©daille Bijou Dor√© Chance", stock: 38, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-bijou-dore-chance.webp", categorie: "M√©daille symbole" },
  { id: 80, nom: "M√©daille Bijou Dor√© Astre", stock: 24, prixPublic: 15.00, prixSolustoc: 2.25, image: "medaille-bijou-dore-astre.webp", categorie: "M√©daille symbole" },

  // + 2 lignes d√©j√† pr√©sentes dans ton ancien code (Love You & Lettre W)
  { id: 81, nom: "Bracelet Love You", stock: 6, prixPublic: 12.00, prixSolustoc: 6.90, image: "Bracelet Love you -1-portrait-748w.webp", categorie: "Bracelet cha√Æne" },
  { id: 82, nom: "Collier Lettre W", stock: 7, prixPublic: 10.00, prixSolustoc: 5.90, image: "LETTRE W-portrait-320w.webp", categorie: "M√©daille initiale" }
];

/* ====== LOGIQUE PANIER & AFFICHAGE ====== */

let cart = [];
let filteredProduits = [...produits];

/* changer quantit√© sur la carte produit */
function changeQty(id, delta) {
  const el = document.getElementById("qty-" + id);
  if (!el) return;
  let value = parseInt(el.textContent || "1", 10);
  value = value + delta;
  if (value < 1) value = 1;
  el.textContent = value;
}

/* ajouter au panier */
function addToCart(id, qty = 1) {
  qty = parseInt(qty, 10);
  if (qty < 1) return;
  const p = produits.find(pr => pr.id === id);
  if (!p) return;
  const exist = cart.find(i => i.id === id);
  if (exist) exist.qty += qty;
  else cart.push({ id: p.id, nom: p.nom, prix: p.prixSolustoc, prixPublic: p.prixPublic, qty });
  renderCart();
}

/* vider panier */
document.getElementById("btn-clear").onclick = () => { cart = []; renderCart(); };

/* envoyer sur WhatsApp */
document.getElementById("btn-whatsapp").onclick = () => {
  if (!cart.length) return;
  let msg = "üõçÔ∏è *Commande de bijoux Solustoc*\n\n";
  cart.forEach(i => {
    msg += `‚Ä¢ ${i.nom} √ó ${i.qty} ‚Äî ${i.prix.toFixed(2)}‚Ç¨ TTC (PV conseill√© ${i.prixPublic.toFixed(2)}‚Ç¨)\n`;
  });
  const total = cart.reduce((s, i) => s + i.prix * i.qty, 0);
  msg += `\nüì¶ Total Solustoc : *${total.toFixed(2)} ‚Ç¨ TTC*`;
  window.open("https://wa.me/33756923323/?text=" + encodeURIComponent(msg), "_blank");
};

/* filtrage par cat√©gorie SEULEMENT */
function applyFilters() {
  const cat = document.getElementById("filter-category").value;

  filteredProduits = produits.filter(p => {
    return cat ? p.categorie === cat : true;
  });

  renderProduits();
}

/* listeners filtre */
document.getElementById("filter-category").addEventListener("change", applyFilters);

/* affichage catalogue */
function renderProduits() {
  const container = document.getElementById("products");
  if (!filteredProduits.length) {
    container.innerHTML = `<p style="font-size:14px; color:#555;">Aucun bijou ne correspond √† ce filtre pour le moment.</p>`;
    return;
  }

  container.innerHTML = filteredProduits.map(p => {
    const coef = p.prixPublic && p.prixSolustoc ? (p.prixPublic / p.prixSolustoc) : null;
    const coefTxt = coef ? `Marge revendeur ‚âà x${coef.toFixed(1)}` : "";
    return `
    <div class="card">
      <img src="${PHOTO_BASE + p.image}" alt="${p.nom}" onclick="openLightbox('${PHOTO_BASE + p.image}')">
      <div class="cat-label">${p.categorie}</div>
      <h3>${p.nom}</h3>
      <p class="price-line">
        <span class="price-solustoc">Prix Solustoc : ${p.prixSolustoc.toFixed(2)} ‚Ç¨ TTC</span>
        <span class="price-public">Prix public constat√© : ${p.prixPublic.toFixed(2)} ‚Ç¨ TTC</span>
        <span class="price-public">${coefTxt}</span>
      </p>
      <p class="stock">Stock disponible : ${p.stock}</p>
      <div class="qty-row">
        <button class="qty-minus" onclick="changeQty(${p.id}, -1)">‚àí</button>
        <span id="qty-${p.id}" class="qty-value">1</span>
        <button class="qty-plus" onclick="changeQty(${p.id}, 1)">+</button>
      </div>
      <button class="btn-small" onclick="addToCart(${p.id}, document.getElementById('qty-${p.id}').textContent)">Ajouter</button>
    </div>`;
  }).join("");
}

/* affichage panier */
function renderCart() {
  const cartBlock = document.getElementById("cart-content");
  if (!cart.length) {
    cartBlock.innerHTML = `<p style="text-align:center; font-size:13px; color:#555;">Aucun bijou dans votre s√©lection pour le moment.</p>`;
    document.getElementById("btn-whatsapp").disabled = true;
    return;
  }
  const total = cart.reduce((s, i) => s + i.prix * i.qty, 0);
  cartBlock.innerHTML = `
    <table class="cart-table">
      <tr><th>Article</th><th>Qt√©</th><th>PU Solustoc</th><th>Total</th></tr>
      ${
        cart.map(i =>
          `<tr>
             <td>${i.nom}</td>
             <td>${i.qty}</td>
             <td>${i.prix.toFixed(2)} ‚Ç¨</td>
             <td>${(i.qty * i.prix).toFixed(2)} ‚Ç¨</td>
           </tr>`
        ).join("")
      }
    </table>
    <p class="cart-total">Total Solustoc : ${total.toFixed(2)} ‚Ç¨ TTC</p>
  `;
  document.getElementById("btn-whatsapp").disabled = false;
}

/* lightbox */
function openLightbox(src) {
  document.getElementById("lightbox-img").src = src;
  document.getElementById("lightbox").style.display = "flex";
}
document.getElementById("lightbox-close").onclick = () => {
  document.getElementById("lightbox").style.display = "none";
};

/* GO */
renderProduits();
renderCart();
</script>

</body>
</html>
